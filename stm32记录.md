晶震
外部振荡器
pll锁向环
施密特触发器
输入输出模式
上拉下拉电阻
旁路
**IC**集成电路（integrated circuit）
**MOSFET**金属氧化物半导体场效应管（英语：Metal-OxideSemiconductor Field-Effect Transistor, MOSFET）
**TTL电路**电流控制器件.晶体管-晶体管逻辑门(transistor-transistor logic gate)
**CMOS电路**是电压控制器件。互补对称金属氧化物半导体(Compiementary symmetry metal oxide semicoductor)
VBAT
**USART**:(Universal Synchronous/Asynchronous Receiver/Transmitter)通用同步/异步串行接收/发送器
**滤波电容**：电容器的特点就是：对直流电表现出的阻抗极大，相当于不通。对交流电，频率越高阻抗越小。利用电容器的这个特点，我们就可以把混杂在直流电里的交流成分过滤出来，所以叫“滤波”。经过滤波，交流成分都经过电容器回到电源去了，电容器两侧剩下的就是没有波动的纯直流电了。利用同样的原理，我们可以通过电容器筛选出交流信号，把直流成分去掉，这一作用被称为“耦合”。还可以利用电容器和电阻构成充放电时间电路，还可以利用电容器和电感组成谐振电路，等等。
**PWM**（Pulse Width Modulation）脉冲宽度调制：是利用微处理器的数字信号对模拟电路进行控制的一种非常有效的技术。
**DMA**(Direct Memory Access):组数据传送方式，有时也称为直接内存操作
**MAC**协议是第二层的协议，用于物理寻址，类似于信封上的收发地址
MAC 协议最重要的功能是确定网上的某个站点占有信道，即信道分配问题
物理层的芯片称之为**PHY**
**OTG**是On-The-Go的缩写正在进行的意思

**SPI**(Serial Peripheral Interface--串行外设接口)总线系统是一种同步串行外设接口，它可以使MCU与各种外围设备以串行方式进行通信以交换信息

**占空比**(Duty Ratio):脉冲宽度1μs，信号周期4μs的脉冲序列占空比为0.25。pwm占空比就是一个脉冲周期内高电平的所整个周期占的比例。例如1秒高电平1秒低电平的PWM波占空比是50%。pwm就是脉冲宽度调制。

**NVIC** (Nested Vectored Interrupt Controller)，即向量中断控制器

**IRQ**(Interrupt Request)中断请求 
**EXTI**: External Interrupts 外部中断
**AFIO**：alternate function IO 复用 IO 端口
**IC1**是输入捕获通道1. 
**TI1**,是定时器输入通道1. 
## STM32库下各个目录##
**Libraries** 文件夹下是驱动库的源代码及启动文件。 
**Project** 文件夹下是用驱动库写的例子跟一个工程模板。 
关于内核与外设的库文件分别存放在 **CMSIS**
**和STM32F10x_StdPeriph_Driver** 文件夹中。
 **CoreSupport** 中的是位于 CMSIS 标准的核内设备函数层 的 M3 核通用
的源文件 core_cm3.c 和头文件 core_cm3.h ，它们的作用是为那些采用
Cortex-M3 核设计 SOC 的芯片商设计的芯片外设提供一个进入 M3 内核的接
口![](http://i.imgur.com/tTc5CqP.png)

RTC实时时钟（Real-Time Clock）
TX是发送（transport），RX是接收(receive)。
NVIC 嵌套向量中断控制器:Nested Vectored Interrupt Controller (NVIC)

1. GPIO 端口引脚多 --> 就要选定需要控制的特定引脚 
2. GPIO 功能如此丰富 --> 配置需要的特定功能 
3. 控制 LED 的亮和灭 --> 设置 GPIO 输出电压的高低 

具体操作:
1. 配置寄存器：选定 GPIO 的特定功能，最基本的如：选择作为输入还是
输出端口。 
2. 数据寄存器：保存了 GPIO 的输入电平 或 将要输出的电平。 
3. 位控制寄存器：设置某引脚的数据 为 1 或 0，控制输出的电平。 
4. 锁定寄存器：设置某锁定引脚后，就不能修改其配置。 

## IO相关的配置 ##
每个 IO 口可以自由编程，但 IO 口寄存器必须要按 32 位字被访问.
STM32 的每个 IO 端口都有 7 个寄存器来控制。他们分别是：
2 个 32 位的端口配置寄存器 CRL 和 CRH；配置模式
2 个 32 位的数据寄存器 IDR（端口输入数据寄存器）和ODR（端口输出数据寄存器）；都只用低16位。
1 个 32 位的置位/复位寄存器BSRR；(主要用来置位)
1 个 16 位的复位寄存器 BRR；
1 个 32 位的锁存寄存器 LCKR。

配置端口模式：
对于 GPIO 端口，每个端口有 16 个引脚，每个引脚 的模式由寄存器的4 个位控制，每四位又分为**两位控制引脚配置**(CNFy[1:0])，**两位控制引脚的模式及最高速度**(MODEy[1:0])，其中 y 表示第 y 个引脚。
 	CRH 是高寄存器，用来配置高 8 位引脚：pin8~pin15
	CRL 配置pin0~pin7 引脚

**GPIO操作步骤**
1. 使能 IO 口时钟。调用函数为 RCC_APB2PeriphClockCmd()。 
2. 初始化 IO 参数。调用函数 GPIO_Init(); 
3. 操作 IO。
```c
    void GPIO_SetBits(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin); 
    void GPIO_ResetBits(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin);
```


**重映射**把管脚的外设功能映射到另一个管脚




**高阻态**是一个数字电路里常见的术语，指的是电路的一种输出状态，既不是高电平也不是低电平，如果高阻态再输入下一级电路的话，对下级电路无任何影响，和没接一样。 
执行 GPIO 管脚读操作时，在读脉冲（Read Pulse）的作用下会把管脚（Pin）的当前电平状态读到内部总线上（Internal Bus）。 在不执行读操作时，它可以变成高阻抗的状态，使得外部管脚与内部总线之间是隔离的。
**推挽输出**可以提高输出功率，能够更好驱动外部的设备.
**开漏输出**就是不输出电压，低电平时接地，高电平时不接地。
**上拉电阻**一般是一端接电源，一端接芯片管脚的电路中的电阻，**下拉电阻**一般是指一端接芯片管脚一端接地的电阻。上拉下拉电阻的主要作用是在电路驱动器关闭时给线路（节点）以一个固定的电平。

## GPIO 8 种模式 ##
 1）输入浮空（这个输入模式，输入电平必须由外部电路确定，要根据具体电路，加外部上拉
电阻或下拉电阻，可以做按键识别） 
 2）输入上拉（打开 IO 内部上拉电阻） 
 3）输入下拉（打开 IO 内部下拉电阻） 
 4）模拟输入（应用 ADC 模拟输入） 
 5）开漏输出（输出端相当于三极管的集电极. 要得到高电平状态需要上拉电阻才行. 适合于
做电流型的驱动,其吸收电流的能力相对强(一般 20ma 以内).能驱动大电流和大电压，LED 就
使用这种模式。） 
 6）推挽式输出（可以输出高,低电平,连接数字器件。推挽式输出输出电阻小，带负载能力强） 
 7）推挽式复用功能（复用是指该引脚打开 remap 功能） 
 8）开漏复用功能（复用是指该引脚打开 remap 功能） 

每个 IO 口可以自由编程，单 IO 口寄存器必须要按 32 位 bit 被访问。TM32 的每个 IO 端口都有 7 个寄存器来控制。
### STM32 的 IO 控制寄存器的作用 ###
 **STM32 的 CRL 和 CRH **寄存器主要是用来 IO 管脚的方向和速率以及何种驱动模式  
 **STM32 的 ODR 寄存器**是用来控制 IO 口的输出高电平还是低电平 
 **STM32 的 IDR 寄存器**主要是用来存储 IO 口当前的输入状态（高低电平）的。 
 ** STM32 的 BSRR 寄存器**主要是用来直接对 **IO 端某一位**直接进行设置和清除操作，通过这个寄存器可以方便的直接修改一个引脚的高低电平 (16位，其他都是32位)
 **STM32 的 BRR 寄存器**用来清除某端口的某一位位 0，如果该寄存器某位为 0，那么它所对应的那个引脚位不产生影响；如果该寄存器某位为 1，则清除对应的引脚位。 
** STM32 的 LCKR** 用来锁定端口的配置，当对相应的端口位执行了 LOCK 序列后，在下次系统
复位之前将不能再更改端口位的配置。 


----------

**波特率**是指数据信号对载波的调制速率，它用单位时间内载波调制状态改变的次数来表示。波特率一次传输一个数据对象，而这个数据对象可能是几个比特（bit）.是码元传输速率单位，他说明单位时间传输了多少个码元。
**比特率**是数字信号的传输速率，它用单位时间内传输的二进制代码的有效位(bit)数来表示，其单位为每秒比特数 bit/s(bps)、每秒千比特数(Kbps)或每秒兆比特数(Mbps)来表示。

波特率与比特率的关系为：比特率 = 波特率 X 单个调制状态对应的二进制位数
 


## STM32 通用定时器 ##

**TIMxCLK:时钟**配置：SYSCLK=72MHz。APB1 预分频器的分频系数被配置为 2，则 PCK1 刚好达到最大值 36MHz，而此时 APB1 的分频系数不为 1，则 TIM2~TIM7的时钟 TIMxCLK = (AHB/2)*2 = 72MHz。 

TIM5 模块入口时钟经过一个预分频器后的时钟才是 TIM5 **计数器的时钟**（用 CK_CNT表示）。预分频器的系数为：TIMx_PSC ，当 TIMx_PSC=0 时表示不分频，则 TIM5 计数器的时钟用 CK_CNT=模块入口时钟,72Mhz；当 TIMx_PSC=1 时表示 2 分频，则 TIM5 计数器的时钟公式为： 
TIM5 **计数器的计数值**的设置:
(自动重载计数周期值)计数器的值乘以预分频值=系统时钟 72MHz
Tout= ((arr+1)*(psc+1))/Tclk； 


## PWM ##
可以产生一个由TIMx_ARR寄存器确定的频率，由TIMx_CCRx寄存器确定占空比的信号。

捕获/比较模式寄存器（TIMx_CCMR1/2）OCxM这三位来设置模式，共7种模式
捕获/比较使能寄存器（TIMx_CCER)
捕获/比较寄存器（TIMx_CCR1~4)


TIM_OC2PreloadConfig(TIM3, TIM_OCPreload_Enable); //使能TIM3在CCR2上的预装载寄存器,即TIM3_CCR2的预装载值在更新事件到来时才能被传送至当前寄存器中。



